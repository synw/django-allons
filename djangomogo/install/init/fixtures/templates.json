[{"model": "dirtyedit.filetoedit", "pk": 2, "fields": {"edited": "2017-04-03T13:17:34.802Z", "created": "2017-03-30T16:01:25.923Z", "editor": 1, "relative_path": "/templates/alt/header.html", "content": "{% load staticfiles vv_tags %}\r\n\r\n<div id=\"topbar\">{% include \"topbar.html\" %}</div>\r\n<div style=\"display:inline-block;position:relative;top:11px;left:2em;font-size:280%;color:white\">\r\n\t<span class=\"hidden-xxs\">\r\n\t\t<a href=\"/\">Django Mogo</a>\r\n\t</span>\r\n</div>\r\n{% if \"presence\"|is_installed %}\r\n\t<div style=\"display:inline-block;position:relative;top:2.2em;left:1.2em\">{% include \"presence/widget.html\" %}</div>\r\n{% endif %}"}}, {"model": "dirtyedit.filetoedit", "pk": 3, "fields": {"edited": "2017-04-03T13:17:24.955Z", "created": "2017-03-30T17:09:44.257Z", "editor": 1, "relative_path": "/templates/alt/footer.html", "content": "{% load vv_tags mbase %}\r\n<script type=\"text/javascript\">\r\n\t{% if request.path|in_admin %}\r\n\t\twindow.setTimeout(function() { django.jQuery(\".messagelist .success\").fadeOut('slow'); }, 2500);\r\n\t\twindow.setTimeout(function() { django.jQuery(\".messagelist .info\").fadeOut('slow'); }, 4000);\r\n\t{% else %}\r\n\t\twindow.setTimeout(function() { $(\".alert-success\").fadeOut('slow'); }, 2500);\r\n\t\twindow.setTimeout(function() { $(\".alert-info\").fadeOut('slow'); }, 4000);\r\n\t{% endif %}\r\n</script>\r\n{% if \"instant\"|is_installed %}\r\n\t{% include \"instant/client.html\" %}\r\n{% endif %}"}}, {"model": "dirtyedit.filetoedit", "pk": 4, "fields": {"edited": "2017-04-03T13:17:14.665Z", "created": "2017-03-30T17:10:34.991Z", "editor": 1, "relative_path": "/templates/alt/navbar.html", "content": "{% load i18n vv_tags %}\r\n<ul class=\"list-inline gi\">\r\n\t{% if user.is_staff %}\r\n\t<li>\r\n\t\t<a class=\"btn btn-link{% if request.path|slice:'6' == '/admin' %} active{% endif %}\" href=\"/admin/\">Admin</a>\r\n\t</li>\r\n\t{% endif %}\r\n\t{% if \"vvpages\"|is_installed %}\r\n\t\t{% include \"vvpages/auto/navlinks.html\" %}\r\n\t\t<li>\r\n\t\t\t<a class=\"btn btn-link\" href=\"/map/\">Sitemap</a>\r\n\t\t</li>\r\n\t{% endif %}\r\n\t{% if \"vvcontact\"|is_installed %}\r\n\t<li>\r\n\t\t<a class=\"btn btn-link\" href=\"/contact/\">Contact</a>\r\n\t</li>\r\n\t{% endif %}\r\n\t{% if \"vvcatalog\"|is_installed %}\r\n\t<li>\r\n\t\t<a class=\"btn btn-link\" href=\"{% url 'category-index' %}\">Catalog</a>\r\n\t</li>\r\n\t{% endif %}\r\n</ul>\r\n{% if \"instant\"|is_installed and user.is_superuser %}\r\n\t<div class=\"pull-right\" style=\"margin-top:0.7em;\">\r\n\t\t{% include \"vvinstant/btn.html\" %}\r\n\t</div>\r\n{% endif %}\r\n<div class=\"pull-right\" style=\"margin-top:0.7em;\">\r\n\t<a href=\"#\" @click=\"toggleSidebar()\">Sidebar</a>\r\n</div>"}}, {"model": "dirtyedit.filetoedit", "pk": 5, "fields": {"edited": "2017-04-03T13:17:01.857Z", "created": "2017-03-30T17:11:02.749Z", "editor": 1, "relative_path": "/templates/alt/popup_menu.html", "content": "{% load i18n %}\r\n\r\n<div class=\"gp text-center\">\r\n\t{% if user.is_anonymous %}\r\n\t\t<div class=\"blocknav gbf\" style=\"background-color:white;\">\r\n\t\t\t<a href=\"/account/login/\">\r\n\t\t\t\t<i class=\"fa fa-user\" style=\"font-size:400%;padding:0.5em;\"></i><br />\r\n\t\t\t\t{% trans 'Login or register' %}\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t{% else %}\r\n\t\t<div class=\"blocknav gbf\" style=\"background-color:white;\">\r\n\t\t\t<a href=\"/account/logout/\">\r\n\t\t\t\t<i class=\"fa fa-sign-out\" style=\"font-size:400%;padding:0.5em;\"></i><br />\r\n\t\t\t\t{% trans 'Logout' %}\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t{% endif %}\r\n</div>"}}, {"model": "dirtyedit.filetoedit", "pk": 6, "fields": {"edited": "2017-04-03T13:16:51.838Z", "created": "2017-03-30T17:56:43.949Z", "editor": 1, "relative_path": "/templates/alt/vv/app.js", "content": "{% load vv_tags %}\r\n\r\n{% for appname, parts in apps.items %}\r\n\t{% include parts.components %}\r\n{% endfor %}\r\n\r\nvar debug = {% if isdebug == True %}true{% else %}false{% endif %};\r\n\r\nconst app = new Vue({\r\n\tel: '#app',\r\n    data () {\r\n        return {\r\n\t\t\t{% for appname, parts in apps.items %}\r\n\t\t\t\t{% include parts.data %}\r\n\t\t\t{% endfor %}\r\n\t\t\tactive: [],\r\n\t\t\tshowSidebar: false,\r\n\t\t\tmainCol: {\r\n\t\t\t\t\"col-xs-12\": true,\r\n\t\t\t\t'col-sm-8': false,\r\n\t\t\t\t'col-sm-pull-4': false\r\n\t\t\t},\r\n\t\t\tsideCol: {\r\n\t\t\t\t\"col-xs-12\": true,\r\n\t\t\t\t'col-sm-4': false,\r\n\t\t\t\t'col-sm-push-8': false,\r\n\t\t\t\t\"hidden\": true\r\n\t\t\t},\r\n        }\r\n\t},\r\n\tmethods: {\r\n\t\tflush: function(preserve) {\r\n\t\t\tif (debug === true) {console.log(\"FLUSH\")};\r\n\t\t\tfor (i=0;i<this.active.length;i++) {\r\n\t\t\t\tv = app[this.active[i]];\r\n\t\t\t\tif (debug === true) {console.log(\"Preserve: \"+this.active[i]+\" / \"+preserve)};\r\n\t\t\t\tif (this.active[i] != preserve) {\r\n\t\t\t\t\tif (debug === true) { console.log(\"flushing \"+this.active[i])};\r\n\t\t\t\t\tvar t = typeOf(v);\r\n\t\t\t\t\tif (debug === true) { console.log(\"TYPE \"+t);};\r\n\t\t\t\t\tif (t === \"string\") {\r\n\t\t\t\t\t\tif (debug === true) { console.log(this.active[i]+ \" -> Flushing string\")};\r\n\t\t\t\t\t\tapp[this.active[i]] = \"\"\r\n\t\t\t\t\t} else if (t === \"array\") {\r\n\t\t\t\t\t\tif (debug === true) { console.log(this.active[i]+ \" -> Flushing array\")};\r\n\t\t\t\t\t\tapp[this.active[i]] = [];\r\n\t\t\t\t\t} else if (t === \"object\") {\r\n\t\t\t\t\t\tif (debug === true) { console.log(this.active[i]+ \" -> Flushing object\")};\r\n\t\t\t\t\t\tapp[this.active[i]] = {}\r\n\t\t\t\t\t} else if (t === \"boolean\") {\r\n\t\t\t\t\t\tif (debug === true) { console.log(this.active[i]+ \" -> Flushing boolean\")};\r\n\t\t\t\t\t\tapp[this.active[i]] = false\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdelete(this.active[i]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (debug === true) { console.log(\"Preserving \"+this.active[i])};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (debug === true) { console.log(\"After flush active: \"+this.active)};\r\n\t\t},\r\n\t\tisActive: function(item) {\r\n\t\t\tif (this.active.indexOf(item) > -1) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t\treturn false\r\n\t\t},\r\n\t\tactivate: function(args) {\r\n\t\t\tif (debug === true) { console.log(\"ACTIVATE \"+args)};\r\n\t\t\tthis.active = args;\r\n\t\t\tif (debug === true) { console.log(\"After activate active: \"+this.active)};\r\n\t\t},\r\n\t\tpushActivate: function(args) {\r\n\t\t\tif (debug === true) { console.log(\"ACTIVATE \"+args)};\r\n\t\t\ti = 0;\r\n\t\t\twhile (i<args.length) {\r\n\t\t\t\tthis.active.push(args[i]);\r\n\t\t\t\ti++\r\n\t\t\t}\r\n\t\t\tif (debug === true) { console.log(\"After activate active: \"+this.active)};\r\n\t\t},\r\n\t\tloadData: function(resturl, action) {\r\n\t\t\tpromise.get(resturl).then(function(error, data, xhr) {\r\n\t\t\t    if (error) {console.log('Error ' + xhr.status);return;}    \r\n\t\t\t    var parsed_data = JSON.parse(data);\r\n\t\t\t    action(parsed_data);\r\n\t\t\t});\r\n\t\t},\r\n\t\tloadRawData: function(resturl, action) {\r\n\t\t\tpromise.get(resturl).then(function(error, data, xhr) {\r\n\t\t\t    if (error) {console.log('Error ' + xhr.status);return;}    \r\n\t\t\t    action(data);\r\n\t\t\t});\r\n\t\t},\r\n\t\ttoggleSidebar: function() {\r\n\t\t\tif ( this.showSidebar === false ) {\r\n\t\t\t\tthis.mainCol = {\r\n\t\t\t\t\t\"col-xs-12\": true,\r\n\t\t\t\t\t'col-sm-8': true,\r\n\t\t\t\t\t'col-sm-pull-4': true\r\n\t\t\t\t},\r\n\t\t\t\tthis.sideCol = {\r\n\t\t\t\t\t\"col-xs-12\": true,\r\n\t\t\t\t\t'col-sm-4': true,\r\n\t\t\t\t\t'col-sm-push-8': true,\r\n\t\t\t\t\t\"hidden\": false\r\n\t\t\t\t}\r\n\t\t\t\tthis.showSidebar = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.mainCol = {\r\n\t\t\t\t\t\"col-xs-12\": true,\r\n\t\t\t\t\t'col-sm-8': false,\r\n\t\t\t\t\t'col-sm-pull-4': false\r\n\t\t\t\t},\r\n\t\t\t\tthis.sideCol = {\r\n\t\t\t\t\t\"col-xs-12\": true,\r\n\t\t\t\t\t'col-sm-4': false,\r\n\t\t\t\t\t'col-sm-push-8': false,\r\n\t\t\t\t\t\"hidden\": true\r\n\t\t\t\t}\r\n\t\t\t\tthis.showSidebar = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{% for appname, parts in apps.items %}\r\n\t\t\t{% include parts.methods %}\r\n\t\t{% endfor %}\r\n\t},\r\n\tcomputed: {\r\n\t\t{% for appname, parts in apps.items %}\r\n\t\t\t{% include parts.computed %}\r\n\t\t{% endfor %}\r\n\t},\r\n});\r\n\r\n{% for appname, parts in apps.items %}\r\n\t{% include parts.routes %}\r\n{% endfor %}\r\npage()\r\n\r\nfunction typeOf (obj) {\r\n  return {}.toString.call(obj).split(' ')[1].slice(0, -1).toLowerCase();\r\n}\r\n{% if \"vvcatalog\"|is_installed %}\r\napp.InitCatalog();\r\n{% endif %}\r\n\r\nfunction getCookie(name) {\r\n    var cookieValue = null;\r\n    if (document.cookie && document.cookie != '') {\r\n        var cookies = document.cookie.split(';');\r\n\t    for (var i = 0; i < cookies.length; i++) {\r\n\t         var cookie = jQuery.trim(cookies[i]);\r\n\t       // Does this cookie string begin with the name we want?\r\n\t       if (cookie.substring(0, name.length + 1) == (name + '=')) {\r\n\t         cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n\t           break;\r\n\t       }\r\n\t    }\r\n\t}\r\n    return cookieValue;\r\n}\r\nvar csrftoken = getCookie('csrftoken');\r\nfunction csrfSafeMethod(method) {\r\n\treturn (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));\r\n}\r\n$.ajaxSetup({\r\n\tscriptCharset: \"utf-8\",\r\n\tcontentType: \"application/json; charset=utf-8\",\r\n    crossDomain: false,\r\n    beforeSend: function(xhr, settings) {\r\n        if (!csrfSafeMethod(settings.type)) {\r\n            xhr.setRequestHeader(\"X-CSRFToken\", csrftoken);\r\n        }\r\n    }\r\n});\r\n\r\n{% for appname, parts in apps.items %}\r\n\t{% include parts.extra %}\r\n{% endfor %}"}}]